# shellcheck shell=bash

# Derive the OpenScan3 version from the submodule's pyproject metadata (Bash-only)
OPENSCAN3_VERSION="$(awk -F '"' '/^[[:space:]]*version[[:space:]]*=/ { print $2; exit }' OpenScan3/pyproject.toml)"

if [ -z "${OPENSCAN3_VERSION}" ]; then
    echo "Failed to extract OpenScan3 version from OpenScan3/pyproject.toml" >&2
fi

STAGE_LIST="pi-gen/stage0 pi-gen/stage1 pi-gen/stage2 stage3-openscan"

# Legacy with node-red stage:
#STAGE_LIST="pi-gen/stage0 pi-gen/stage1 pi-gen/stage2 stage3-openscan stage4-nodered"

# Shared defaults for every camera configuration
IMG_NAME_PREFIX="OpenScan3_v${OPENSCAN3_VERSION}"
TARGET_HOSTNAME="openscan3-alpha"
